<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GameLab HDL</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- –°–µ–∫—Ü–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ -->
    <div id="login-bg"></div>
    <div id="auth-section" class="card auth-section">
        <h2>üéÆ –í—Ö–æ–¥ –≤ GameLab HDL</h2>
        <p>–í–≤–µ–¥–∏—Ç–µ –≤–∞—à—É —Ñ–∞–º–∏–ª–∏—é –¥–ª—è –≤—Ö–æ–¥–∞ –≤ —Å–∏—Å—Ç–µ–º—É</p>
        
        <input type="text" id="user-search" class="auth-input" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å —Ñ–∞–º–∏–ª–∏—é..." list="users-list">
        <input type="password" id="user-password" placeholder="–ü–∞—Ä–æ–ª—å" style="margin-top: 8px; width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px;">
        <datalist id="users-list"></datalist>

        <button onclick="login()" class="btn" style="width: 100%; margin-top: 10px;">–í–æ–π—Ç–∏</button>

        <div id="auth-error" style="color: red; margin-top: 10px; display: none;"></div>
        <div id="loading" style="display: none; margin-top: 10px;">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ Bitrix24...</div>
    </div>

    <!-- –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—Å–∫—Ä—ã—Ç–æ –¥–æ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏) -->
    <div id="app" style="display: none;">
        <!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
        <nav class="nav">
            <div class="container">
                <ul class="nav-tabs">
                    <li class="nav-tab active" onclick="showSection('profile')">–ü—Ä–æ—Ñ–∏–ª—å</li>
                    <li class="nav-tab" onclick="showSection('colleagues')">–ö–æ–ª–ª–µ–≥–∏</li>
                    <li class="nav-tab" onclick="showSection('rating')">–†–µ–π—Ç–∏–Ω–≥</li>
                    <li class="nav-tab" onclick="showSection('rules')">–ü—Ä–∞–≤–∏–ª–∞</li>
                    <li class="nav-tab" onclick="showSection('shop')">–ú–∞–≥–∞–∑–∏–Ω</li>
                    <li class="nav-tab" onclick="showSection('history')">–ò—Å—Ç–æ—Ä–∏—è</li>
                    <li class="nav-tab" onclick="logout()" style="margin-left: auto; color: #666;">–í—ã–π—Ç–∏</li>
                </ul>
            </div>
        </nav>

        <div class="container">
            <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
            <div id="profile" class="section active">
                <div class="card">
                    <div class="profile-header">
                        <div class="avatar" id="profile-avatar"></div>
                        <div class="profile-info">
                            <h2 id="profile-name">-</h2>
                            <p id="profile-position">-</p>
                            <div>
                                <span class="status-online"></span>
                                <span style="color: #4CAF50;">–í —Å–µ—Ç–∏</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-value" id="profile-coins">0</div>
                            <div class="stat-label">
                                <img src="./img/coin.svg" alt="Coins" class="stat-icon"> Bus‚Äë–∫–æ–∏–Ω
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="profile-exp">0</div>
                            <div class="stat-label">
                                <img src="./img/exp.svg" alt="Experience" class="stat-icon"> –û–ø—ã—Ç
                            </div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="profile-score">0</div>
                            <div class="stat-label">
                                <img src="./img/score .svg" alt="Score" class="stat-icon"> –û—á–∫–∏
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                    <div id="achievements-list">
                        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π...</div>
                    </div>
                </div>

                <div class="card">
                    <h3>üìä –†–µ–π—Ç–∏–Ω–≥</h3>
                    <div id="personal-rating">
                        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞...</div>
                    </div>
                </div>
            </div>

            <!-- –ö–æ–ª–ª–µ–≥–∏ -->
            <div id="colleagues" class="section">
                <div class="card">
                    <div class="search-box">
                        <input type="text" id="colleague-search" class="search-input" placeholder="–ü–æ–∏—Å–∫ –∫–æ–ª–ª–µ–≥...">
                    </div>
                    
                    <div class="user-list" id="colleagues-list">
                        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∫–æ–ª–ª–µ–≥...</div>
                    </div>
                </div>
            </div>

            <!-- –†–µ–π—Ç–∏–Ω–≥ -->
            <div id="rating" class="section">
                <div class="card">
                    <h3>üèÜ –û–±—â–∏–π —Ä–µ–π—Ç–∏–Ω–≥</h3>
                    <div id="global-rating">
                        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞...</div>
                    </div>
                </div>
            </div>

            <!-- –ü—Ä–∞–≤–∏–ª–∞ -->
            <div id="rules" class="section">
                <div class="card">
                    <!-- –ö–Ω–æ–ø–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è -->
                    <div style="display: flex; gap: 12px; margin-bottom: 20px; flex-wrap: wrap;">
                        <button class="btn" onclick="app.showRulesTab('coins')" id="tab-coins">üìã Bus‚Äë–∫–æ–∏–Ω</button>
                        <button class="btn" onclick="app.showRulesTab('hearts')" id="tab-hearts">‚ù§Ô∏è HEARTs</button>
                        <button class="btn" onclick="app.showRulesTab('stars')" id="tab-stars">‚≠ê STARs</button>
                        <button class="btn" onclick="app.showRulesTab('levels')" id="tab-levels">üöÄ –£—Ä–æ–≤–Ω–∏</button>
                    </div>

                    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π) -->
                    <h3 id="rules-title">üìã –ü–†–ê–í–ò–õ–ê –°–ò–°–¢–ï–ú–´: –ö–ê–ö –ó–ê–†–ê–ë–ê–¢–´–í–ê–¢–¨ Bus‚Äë–∫–æ–∏–Ω</h3>

                    <!-- üî• –ò–°–ü–†–ê–í–õ–ï–ù–û: –¥–æ–±–∞–≤–ª–µ–Ω id="rules-content" -->
                    <div id="rules-content" class="rules-content">
                        <!-- –ö–æ–Ω—Ç–µ–Ω—Ç –±—É–¥–µ—Ç –∑–∞–º–µ–Ω—ë–Ω JavaScript -->
                    </div>
                </div>
            </div>

            <!-- –ú–∞–≥–∞–∑–∏–Ω -->
            <div id="shop" class="section">
                <div class="card">
                    <h3>üõçÔ∏è –ú–∞–≥–∞–∑–∏–Ω –ø–æ–æ—â—Ä–µ–Ω–∏–π</h3>
                    <div class="shop-grid" id="shop-items">
                        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤...</div>
                    </div>
                </div>
            </div>

            <!-- –ò—Å—Ç–æ—Ä–∏—è -->
            <div id="history" class="section">
                <div class="card">
                    <h3>üìù –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π</h3>
                    <div class="history-list" id="history-list">
                        <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ -->
    <div id="user-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeUserModal()">&times;</span>
            <div class="profile-header">
                <div class="avatar" id="modal-avatar"></div>
                <div class="profile-info">
                    <h2 id="modal-full-name">-</h2>
                    <p id="modal-position">-</p>
                </div>
            </div>
            <div class="stats">
                <div class="stat-item">
                    <div class="stat-value coins-color">
                        <img src="./img/coin.svg" alt="Coins" class="stat-icon">
                        <span id="modal-coins">0</span>
                    </div>
                    <div class="stat-label">
                        <img src="./img/coin.svg" alt="Coins" class="stat-icon"> Bus‚Äë–∫–æ–∏–Ω
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-value exp-color">
                        <img src="./img/exp.svg" alt="Experience" class="stat-icon">
                        <span id="modal-exp">0</span>
                    </div>
                    <div class="stat-label">
                        <img src="./img/exp.svg" alt="Experience" class="stat-icon"> –û–ø—ã—Ç
                    </div>
                </div>
                <div class="stat-item">
                    <div class="stat-value score-color">
                        <img src="./img/score .svg" alt="Score" class="stat-icon">
                        <span id="modal-score">0</span>
                    </div>
                    <div class="stat-label">
                        <img src="./img/score .svg" alt="Score" class="stat-icon"> –û—á–∫–∏
                    </div>
                </div>
            </div>
            <div class="card">
                <h3>üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
                <div id="modal-achievements">
                    <div class="loading-text">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
                </div>
            </div>
        </div>
    </div>
    
    <div id="item-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeItemModal()">&times;</span>
            <div class="item-modal-content">
                <img id="item-modal-image" src="" alt="" class="item-modal-image">
                <h3 id="item-modal-name" class="item-modal-name">-</h3>
                <div class="item-modal-price">
                    <img src="./img/coin.svg" alt="Coins" style="width: 20px; height: 20px; margin-right: 6px;">
                    <span id="item-modal-price">0</span> coin
                </div>
                <div class="item-modal-description" id="item-modal-description">
                    –ó–∞–≥—Ä—É–∑–∫–∞...
                </div>
                <button class="btn" id="item-modal-buy-btn" style="margin-top: 15px; width: 100%;">
                    –ö—É–ø–∏—Ç—å –∑–∞ <span id="item-modal-buy-price">0</span> coin
                </button>
            </div>
        </div>
    </div>

    <div id="coins-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="submitCoinsOperation()">&times;</span>
            <h3 id="coins-modal-title">–î–æ–±–∞–≤–∏—Ç—å –∫–æ–∏–Ω—ã</h3>
            
            <div style="margin: 20px 0;">
                <label>–í—ã–±–µ—Ä–∏—Ç–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:</label>
                <input type="text" id="coins-user-search" list="coins-users-list" class="auth-input" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∏–º—è...">
                <datalist id="coins-users-list"></datalist>
                <div id="coins-user-error" style="color: red; margin-top: 5px; display: none;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤—ã–±—Ä–∞–Ω</div>
            </div>

            <div style="margin: 20px 0;">
                <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ Bus‚Äë–∫–æ–∏–Ω–æ–≤:</label>
                <input type="number" id="coins-amount" class="auth-input" min="1" placeholder="–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ" style="width: 100%;">
                <div id="coins-amount-error" style="color: red; margin-top: 5px; display: none;">–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ</div>
            </div>

            <button class="btn" style="width: 100%;" onclick="app.submitCoinsOperation()">
                <span id="coins-modal-action-text">–î–æ–±–∞–≤–∏—Ç—å</span>
            </button>
        </div>
    </div>

    <!-- –°–∫—Ä–∏–ø—Ç—ã -->
    <script type="module" src="config.js"></script>
    <script type="module" src="app.js"></script>
    <script src="animations.js"></script>
    
</body>
</html>